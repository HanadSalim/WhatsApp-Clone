(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){"use strict";c.r(t);var a=c(6),s=c(68),n=c.n(s),r=(c(84),c(65),c(0)),i=c.n(r),o=c(1),l=c(13),j=c(32),d=c(21),u=c(14),b=(c(87),c(72)),h=c(47),O=c(55),p=Object(b.a)({apiKey:"AIzaSyC3vIsTEXFPdPHpaq902SegISlVfm4NB2Q",authDomain:"whatsapp-clone-51311.firebaseapp.com",projectId:"whatsapp-clone-51311",storageBucket:"whatsapp-clone-51311.appspot.com",messagingSenderId:"474220246334",appId:"1:474220246334:web:9ce05cb0fcf73a7057e86f"}),m=Object(j.c)(p),x=Object(h.g)(p),f=new j.a,v=function(){var e=Object(o.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.e)(m,t,c);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,c){return e.apply(this,arguments)}}(),g=function(){Object(j.f)(m,f).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},N=function(){var e=Object(o.a)(i.a.mark((function e(t,c,a){var s,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.b)(m,c,a);case 3:return s=e.sent,n=s.user,r=(new O.AvatarGenerator).generateRandomAvatar(),e.next=8,Object(h.a)(Object(h.c)(x,"users"),{uid:n.uid,name:t,authProvider:"local",email:c,photoUrl:r});case 8:alert("Account successfully created"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c,a){return e.apply(this,arguments)}}(),y=x,_=c(5),w=Object(a.createContext)(null),k=w.Provider,I=function(e){var t=e.children,c=Object(a.useState)({uId:"",uProfile:"",uDisplayName:""}),s=Object(l.a)(c,2),n=s[0],r=s[1];return Object(_.jsx)(k,{value:[n,r],children:t})};I.context=w;var C=I,E=function(){var e=Object(a.useContext)(w),t=Object(l.a)(e,2),c=(t[0],t[1]),s=Object(u.f)();function n(){return(n=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(d.h)(Object(d.c)(x,"users"),Object(d.j)("uid","==",t.uid)),e.next=3,Object(d.f)(a);case 3:e.sent.forEach((function(e){Object(j.h)(t,{displayName:e.data().name,photoURL:e.data().photoUrl}).then((function(){console.log("updated successfully"),c({uId:t.uid,uProfile:t.photoURL,uDisplayName:t.displayName}),s("/app")})).catch((function(e){console.log(e)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return(r=Object(o.a)(i.a.mark((function e(t){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c=document.getElementById("cn").value,a=document.getElementById("ce").value,s=document.getElementById("cp").value,N(c,a,s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.d)(m,(function(e){e&&(e.reload(),null===e.displayName?function(e){n.apply(this,arguments)}(e):(c({uId:e.uid,uProfile:e.photoURL,uDisplayName:e.displayName}),s("/app")))})),Object(_.jsx)("div",{className:"body",children:Object(_.jsxs)("div",{className:"container",id:"container",children:[Object(_.jsx)("div",{className:"form-container sign-up-container",children:Object(_.jsxs)("form",{children:[Object(_.jsx)("h1",{children:"Create Account"}),Object(_.jsx)("input",{id:"cn",type:"text",placeholder:"Name"}),Object(_.jsx)("input",{id:"ce",type:"email",placeholder:"Email"}),Object(_.jsx)("input",{id:"cp",type:"password",placeholder:"Password"}),Object(_.jsx)("button",{onClick:function(e){return r.apply(this,arguments)},children:"Sign Up"})]})}),Object(_.jsx)("div",{className:"form-container sign-in-container",children:Object(_.jsxs)("form",{action:"",children:[Object(_.jsx)("h1",{children:"Sign in"}),Object(_.jsx)("div",{className:"social-container",children:Object(_.jsx)("a",{children:Object(_.jsx)("i",{className:"fab fa-google-plus-g",onClick:g})})}),Object(_.jsx)("span",{children:"or use your account"}),Object(_.jsx)("input",{type:"email",placeholder:"Email",id:"se"}),Object(_.jsx)("input",{type:"password",placeholder:"Password",id:"sp"}),Object(_.jsx)("a",{href:"",children:"Forgot your password?"}),Object(_.jsx)("button",{onClick:function(e){e.preventDefault();var t=document.getElementById("se").value,c=document.getElementById("sp").value;v(t,c)},children:"Sign In"})]})}),Object(_.jsx)("div",{className:"overlay-container",children:Object(_.jsxs)("div",{className:"overlay",children:[Object(_.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(_.jsx)("h1",{children:"Welcome Back!"}),Object(_.jsx)("p",{children:"To keep connected with us please login with your personal info"}),Object(_.jsx)("button",{className:"ghost",onClick:function(){document.getElementById("container").classList.remove("right-panel-active")},children:"Sign In"})]}),Object(_.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(_.jsx)("h1",{children:"Hello, Friend!"}),Object(_.jsx)("p",{children:"Enter your details and start journey with us"}),Object(_.jsx)("button",{className:"ghost",onClick:function(){document.getElementById("container").classList.add("right-panel-active")},children:"Sign Up"})]})]})})]})})},S=c(74),D=c(73),P=c(130),B=c(128),A=(c(98),Object(a.createContext)(null)),U=A.Provider,R=function(e){var t=e.children,c=Object(a.useState)({roomName:"Click a chat",profile:"",roomId:"",history:[],selected:!1}),s=Object(l.a)(c,2),n=s[0],r=s[1];return Object(_.jsx)(U,{value:[n,r],children:t})};R.context=A;var W=R;var L=function(e){var t=e.id,c=e.name,s=e.profile,n=Object(a.useContext)(A),r=Object(l.a)(n,2),j=(r[0],r[1]);return Object(_.jsxs)("div",{className:"sidebarChat ",onClick:function(){var e=function(){var e=Object(o.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(d.d)(y,"rooms",t),e.next=4,Object(d.e)(a);case 4:(n=e.sent).exists&&j({roomName:c,profile:s,roomId:t,history:n.data().messages,selected:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()},children:[Object(_.jsx)("div",{className:"sidebarChat__avatar",children:Object(_.jsx)(P.a,{src:s})}),Object(_.jsxs)("div",{className:"sidebarChat__info",children:[Object(_.jsx)("span",{children:c}),Object(_.jsx)("p",{children:"Last message sent will go here..."}),Object(_.jsx)("div",{className:"border"})]})]})},F=(c(103),c(120)),G=c(121),H=c(122),T=c(123);var J=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],o=r[1],b=Object(u.f)(),h=Object(a.useContext)(w),p=Object(l.a)(h,2),x=p[0],f=p[1],v=(x.uId,x.uProfile);return x.uDisplayName,Object(a.useEffect)((function(){return Object(d.g)(Object(d.c)(y,"rooms"),(function(e){return s(e.docs.map((function(e){return Object(D.a)({id:e.id},e.data())})))}))}),[]),Object(_.jsxs)("div",{className:"sidebar",children:[Object(_.jsxs)("div",{className:"sidebar__header",children:[Object(_.jsx)(P.a,{src:v}),Object(_.jsxs)("div",{className:"sidebar__headerRight",children:[Object(_.jsx)(B.a,{children:Object(_.jsx)(F.a,{})}),Object(_.jsx)(B.a,{children:Object(_.jsx)(G.a,{})}),Object(_.jsx)(B.a,{children:Object(_.jsx)(H.a,{})})]})]}),Object(_.jsx)("div",{className:"search__container",children:Object(_.jsx)("div",{className:"sidebar__search",children:Object(_.jsxs)("div",{className:"sidebar__searchContainer",children:[Object(_.jsx)(T.a,{}),Object(_.jsx)("form",{onSubmit:function(e){if(""!==i){e.preventDefault();var t=new O.AvatarGenerator;Object(d.a)(Object(d.c)(y,"rooms"),{name:i,messages:[],profile:t.generateRandomAvatar()}),o("")}},children:Object(_.jsx)("input",{placeholder:"Search or start new chat",onChange:function(e){o(e.target.value)},value:i})})]})})}),Object(_.jsx)("div",{className:"sidebar__chats__wrap",children:Object(_.jsx)("div",{className:"sidebar__chats",children:c.map((function(e){return Object(_.jsx)(L,{id:e.id,name:e.name,profile:e.profile,messages:e.messages},e.id)}))})}),Object(_.jsx)("button",{className:"logout-button",onClick:function(){Object(j.g)(m),Object(j.d)(m,(function(e){e||(f({uId:"",uProfile:"",uDisplayName:""}),b("/"))}))},children:"logout"})]})},M=c(124),q=c(125),z=c(126),K=c(127);var Q=function(e){var t=e.currentUser,c=e.user,a=e.message,s=e.time;return t==c.id?Object(_.jsxs)("div",{className:"chat__message chat__sender right",children:[Object(_.jsx)("p",{className:"chat__text",children:a}),Object(_.jsx)("p",{className:"chat__time",children:s})]}):Object(_.jsxs)("div",{className:"chat__message left",children:[Object(_.jsx)("p",{className:"chat__name",children:c.name}),Object(_.jsx)("p",{className:"chat__text",children:a}),Object(_.jsx)("p",{className:"chat__time",children:s})]})};c(104);var V=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useContext)(A),r=Object(l.a)(n,2),j=r[0],u=r[1],b=j.roomName,h=j.profile,O=j.roomId,p=j.history,m=Object(a.useContext)(w),x=Object(l.a)(m,2),f=x[0],v=(x[1],f.uId),g=f.uDisplayName;Object(a.useEffect)((function(){var e=!0;e&&Object(d.g)(Object(d.d)(y,"rooms",O),(function(t){return console.log(t.data().messages),u({roomName:b,profile:h,roomId:O,history:t.data().messages,selected:!0}),function(){e=!1}}))}),[O]);var N=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===O){e.next=7;break}return a=new Date,n=a.getHours()+":"+a.getMinutes(),t.preventDefault(),r=Object(d.d)(y,"rooms",O),e.next=7,Object(d.i)(r,{messages:Object(d.b)({user:{id:v,name:g},message:c,time:n})});case 7:s("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"chat",children:[Object(_.jsxs)("div",{className:"chat__header",children:[Object(_.jsx)(P.a,{src:h,className:"profile__pic"}),Object(_.jsxs)("div",{className:"chat__headerInfo",children:[Object(_.jsx)("h4",{children:b}),Object(_.jsx)("p",{children:O})]}),Object(_.jsxs)("div",{className:"chat__headerRight",children:[Object(_.jsx)(B.a,{children:Object(_.jsx)(T.a,{})}),Object(_.jsx)(B.a,{children:Object(_.jsx)(M.a,{})})]})]}),Object(_.jsx)("div",{className:"chat__body",children:p.map((function(e){return Object(_.jsx)(Q,{time:e.time,message:e.message,user:e.user,currentUser:v},e.id)}))}),Object(_.jsxs)("div",{className:"chat__footer",children:[Object(_.jsxs)("div",{className:"left",children:[Object(_.jsx)(B.a,{children:Object(_.jsx)(q.a,{})}),Object(_.jsx)(B.a,{children:Object(_.jsx)(z.a,{})})]}),Object(_.jsxs)("form",{children:[Object(_.jsx)("input",{value:c,onChange:function(e){return s(e.target.value)},type:"text",placeholder:"Type a message"}),Object(_.jsx)("button",{onClick:N,type:"submit",children:"Send message"})]}),Object(_.jsx)("div",{className:"right",children:Object(_.jsx)(K.a,{})})]})]})};c(105);var X=function(){var e=Object(a.useContext)(A),t=Object(l.a)(e,2),c=t[0];return t[1],c.selected?Object(_.jsx)(V,{}):Object(_.jsx)("div",{className:"wc",children:Object(_.jsxs)("div",{className:"wrapper",children:[Object(_.jsx)("div",{className:"pc",children:Object(_.jsx)("div",{className:"image"})}),Object(_.jsxs)("div",{className:"tc",children:[Object(_.jsxs)("div",{className:"heading",children:[Object(_.jsx)("h1",{children:"WhatsApp Web"}),Object(_.jsx)("div",{children:Object(_.jsx)("b",{children:"NEW"})})]}),Object(_.jsxs)("div",{className:"text text_top",children:["Now send and receive messages without keeping your phone online.",Object(_.jsx)("br",{}),"Use WhatsApp on up to 4 linked devices and 1 phone at the same time."]}),Object(_.jsxs)("div",{className:"text text_bottom",children:[Object(_.jsx)("div",{className:"logo"}),"Make calls from desktop with WhatsApp for Windows.",Object(_.jsx)("a",{href:"https://www.whatsapp.com/download",target:"_blank",rel:"noreferrer",children:"Get it here"})]})]}),Object(_.jsxs)("div",{className:"foot text",children:[Object(_.jsx)("div",{className:"logo"}),"End-to-end encrypted"]})]})})};var Y=function(){return Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)("div",{className:"bar"}),Object(_.jsx)("div",{className:"app__body",children:Object(_.jsxs)(W,{children:[Object(_.jsx)(J,{}),Object(_.jsx)(X,{})]})})]})};var Z=function(){return Object(_.jsx)(C,{children:Object(_.jsx)(S.a,{children:Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{path:"/",element:Object(_.jsx)(E,{})}),Object(_.jsx)(u.a,{path:"/app",element:Object(_.jsx)(Y,{})})]})})})};n.a.render(Object(_.jsx)("div",{children:Object(_.jsx)(Z,{})}),document.getElementById("root"))},65:function(e,t,c){},84:function(e,t,c){},87:function(e,t,c){},96:function(e,t){},98:function(e,t,c){}},[[106,1,2]]]);
//# sourceMappingURL=main.a3eabdf6.chunk.js.map